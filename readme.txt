=== Booking Activities ===
Contributors: bookingactivities
Donate link: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=7EKU434L7NEVC
Tags: booking activities, booking form, booking activity, booking sport, booking events
Requires at least: 3.6
Tested up to: 4.8
Stable tag: 1.1.1
License: GPLv3 or later
License URI: http://www.gnu.org/licenses/gpl-3.0.html

Booking system specialized in activities: sports, leisure, courses, events, tourism, cultural, and yours! Works great with WooCommerce.


== Description ==

Booking Activities is a complete booking system designed for any kind of activity providers. 
Drag and drop your events to build your activity planning. Copy / Paste a shortcode to display booking forms. Pick an event onto this calendar and book it. Calendars are automatically integrated to WooCommerce product pages.

Try it live on the [demo website](http://demo.booking-activities.fr/en/)!


= Main features =

★ = Unique feature only Booking Activities has.

**Editor**
* ★ **WYSIWYG**: Visually build your plannings
* ★ **Drag and drop** events directly on the calendar
* ★ **Group your events** to easily sell bundles, subscriptions, seminars, or events spreading on several days
* Create **repeated events** (with desired frequency and exceptions dates)
* Unlimited calendars, activities, events and bookings.

**Display**
* **Shortcodes** to display booking forms, customer's bookings list, or simple calendars
* ★ Display events from multiple calendars and activities at once
* ★ **One-click booking**: just pick the desired event on the calendar and click on "Book"! 
* *If you do not use WooCommerce, customers must be logged in to book*

**Online payments with WooCommerce**
* Calendars are automatically integrated to product pages
* ★ Attach multiple calendars and activities to one product
* ★ **Cart expiration system**: bookings in the shopping cart are temporary
* Auto-validation when payment is completed
* ★ Order status and its bookings status are smartly bound
* ★ Automatic refunds by coupon or via the gateway (if allowed)

**Manage reservations**
* Click on the desired event to show its bookings list
* Booking actions: validate, cancel, reschedule, ★ refund...
* ★ Your customers can **cancel** or **reschedule** their bookings and **ask a refund** by themselves

**Translation ready**
* **Multilingual support** with ★ QTranslateX (free plugin)
* ★ Auto-detect and switch languages, date/time format, first day of the week...
* Fully translated in English and French. You can also help us [translating Booking Activities](https://translate.wordpress.org/projects/wp-plugins/booking-activities) in your language.

**100% responsive**

See the whole [features list here](https://booking-activities.fr/en/documentation/features/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme).


= Extend these features with add-ons: =

* **[Display Pack](https://booking-activities.fr/en/downloads/display-pack/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_campaign=display-pack&utm_content=readme)**: Customize your calendars or set alternative display (datepicker)
* **[Prices and Promotions](https://booking-activities.fr/en/downloads/prices-and-promotions/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_campaign=prices-and-promotions&utm_content=readme)**: Set prices and discounts on specific events
* **[Order for Customers](https://booking-activities.fr/en/downloads/order-for-customers/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_campaign=order-for-customers&utm_content=readme)**: You can book / place an order in the name of your customers
* **[Points of Sale](https://booking-activities.fr/en/downloads/points-of-sale/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_campaign=points-of-sale&utm_content=readme)**: Each POS manager manage his own products, calendars and bookings

See the whole [add-ons list here](https://booking-activities.fr/en/add-ons/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme)


= This plugin is great for... You? =

To know if Booking Activities is made for you, you just need to understand **how it works**:
1. **You place** events on a calendar
2. **Customers pick** them and book it

If this fits your business then give it a try!

This booking system has been specially designed to fulfill the needs of **most activity providers**:
* For **tourism, sport and leisure** (nautical, aerial, land, mountain, foot or wheels, outdoor or indoor...)
* For **courses, trainings, exhibitions** (education, music, drawing, seminar...)
* For **cultural activities** (museum, theatre / cinema...)
* *For you too, but you are not in this list? Please, [tell us](https://booking-activities.fr/en/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme#contact)* :)


= We are listening =

**You are the developers**. *You have always been.*

Booking Activities has been designed and developed in collaboration with activity providers.

**Now it is getting better thanks to you.**

Then feel free to tell us if you miss a feature, if you find a bug or anything to make your booking system better!

* [Documentation](https://booking-activities.fr/en/documentation/user-documentation/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme)
* [Report a bug / Request a feature](https://github.com/bookingactivities/booking-activities/issues/)
* [Contact us](https://booking-activities.fr/en/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme#contact) at contact@booking-activities.fr (French and English)


= Requirements =

* **WordPress**: 3.6.0 or later
* **PHP**: 5.5.0 or later
* **WooCommerce**: 2.6.0 or later (deprecated, update to 3.x asap) 
* *Booking Activities can be used without WooCommerce*



== Frequently Asked Questions ==

= I am not an activity provider, can this plugin still meet my needs? =
Yes of course. It is basically a reservation system based on event scheduling. In other words, you place events on a calendar that can be booked. You can find another purposes to it.
To know if it actually meets your needs, simply try it, it's free. 
If you are on a hurry, you can just check the [demo website](http://demo.booking-activities.fr/en/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme).
Or read the full [features description](https://booking-activities.fr/en/documentation/features/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme) if you are looking for something in particular.

= Create and fill your first calendar = 
**Create your first calendar**
1. Go to Booking Activities / Calendar Editor page
2. Click on the big '+' button
3. Set a title, an opening date and a closing date
4. In the "Agenda" tab, you can also set your working hours
4. Click on the dialog OK button, the calendar is loading!

**Create your first activity**
1. Click on the '+' button in the 'Activities' area
2. Set a title, an availability amount, a color and a duration
3. Click on the dialog OK button, the activity is added to the list!

**Create your first event**
1. Drag an activity from the list and drop it on the calendar
2. Drag and drop the event to move it
3. Mouseover the event and click on its settings wheel to edit its properties


= Display a reservation form = 
*Make sure to have at least one calendar, one activity and one event at a future date* 

1. Go to Booking Activities / Calendar Editor page
2. Select the desired calendar and show / hide activities you want
3. Copy the shortcode at the bottom of the page (it looks like `[bookingactivities_form calendars='' activities='']`)
4. Past this shortcode in any post or page you like
5. Go on this post / page frontend, the booking system appears! 

*The user must be logged in to book an event.*

/!\ Booking form displayed via shortcode are not bound to WooCommerce at all. If you want to bind a WC product to a calendar, check "Use it with WooCommerce" in this FAQ.


= Display the calendar only = 
*Make sure to have at least one calendar, one activity and one event at a future date* 

1. Go to Booking Activities / Calendar Editor page
2. Select the desired calendar and show / hide activities you want
3. Copy the shortcode at the bottom of the page (it looks like `[bookingactivities_calendar calendars='' activities='']`)
4. Past this shortcode in any post or page you like
5. Go on this post / page frontend, the calendar appears!


= Display user's bookings list = 
*Make sure the user has bookings and he is logged in, otherwise it will not show anything* 

1. Past this shortcode in any post or page you like: `[bookingactivities_list]`
2. Go on this post / page frontend, the bookings list appears!

*Depending on BA settings and bookings dates, actions like cancel or reschedule may appear. Try them!* 


= Use it with WooCommerce = 
*Make sure to have at least one calendar, one activity and one event at a future date for each activity* 
*You also need to activate WooCommerce and create one product* 

1. Go to Products / *Your Product*
2. In 'Product data' area, check 'Activity', a new 'Activity' tab appears
3. In 'Activity' tab, set a calendar and an activity to be bound to the product
4. Go on this product page on the frontend, a booking form appears!

*For Variable Products, you need to check the 'Activity' checkbox and set a calendar and an activity for each variation.* 


= Does this plugin accept reservation online payments? =
Yes, you can accept payments for bookings through WooCommerce. Booking Activities is perfectly integrated to WooCommerce:

* Booking forms will appears automatically on product pages 
* A cart expiration system is implemented to make sure that bookings in the shopping basket won't stay in the basket forever, taking the place of someone else
* Bookings are automatically validated when the payment is received, or cancelled if not
* If you change order quantity or state, so do the bookings, and vice versa


= Should I accept payments for bookings? =
Quite a reccuring question from activities providers. Here is a pros and cons analysis:

**PROS:**

* Customers are engaged, if they book, they come.
* Saves time: customers have already paid.
* Customers can come without money, they can offer the activity to a relative
* Automatic cashing, billing, accounting and stats

**CONS:**

* May discourage customers, depending on the type of activity you provide and your target
* Takes more time for customers, and more diffult process, higher cart abandonment rate
* You will have to do much more development, administrative and legal procedures, and you will have more expenses (bank commission, maintenance ...)

We still recommend to accept online payments since it's a great way to automate your business management and make it grow.


= Events are not "Booked" after booking form submission, they are "Pending", why? =
Don't worry, the reservation is well registered. Now, it is up to you to turn it to "Booked" right away or when your customer comes, or when he gives you the money...
But you can just turn the default booking status to "Booked" in Booking Activities settings.
Note that if you use WooCommerce and online payments, booking states turn automatically to "Booked" if the payment is complete, or "Cancelled" if not.


= Cart expires but events are still booked = 
A bot clean expired bookings hourly. So just wait up to 1 hour.
Usually, users are still on your website when their bookings expire, if so, they are immediatly removed.
Else, they will be cancelled later, with the others in that case.


= My events appears to be booked, but no bookings appear in the list =
Temporary bookings (such as In cart events) take active slots but may not appear in the bookings list.
Just click on the settings wheel above the bookings list, and check 'Display temporary bookings'.
Now you can see all kind of active bookings (booked, pending, in cart).


= Cancelled bookings disapeared from the list, I need to see them! =
Just click on the settings wheel above the bookings list, and check 'Display inactive bookings'.
Now you can see inactive bookings (cancelled, expired, removed, refunded, refund requested).


___

For any question about how to use Booking Activities, take a look at the [documentation](https://booking-activities.fr/en/documentation/user-documentation/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme).

If you don't find the answer you need, please [contact us](https://booking-activities.fr/en/#contact?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme) (French and English).



== Screenshots ==

1. Drag and drop to edit. Click to book. Works both with a shortcode and WooCommerce.
2. WYSIWYG calendar editor. Simply drag and drop events. Click on events for additionnal settings (availability, repetition...).
3. Create daily, weekly or monthly repeated events. You can add exception dates to the repetition.
4. Grouping your events is simple: just select multiple events and click on 'Add a group'. Or select an existing group and start editing it right away.
5. Use shortcodes to display a calendar alone or with booking form. You can display events from multiple calendars and activities at once.
6. When a customer picks a grouped event, the whole group is selected. If the events is part of several groups, the customer has to choose one from a dialog.
7. Easily bind a planning to a WooCommerce product. You can choose to display events from multiple activities, and multiple calendars.
8. Booking Activities calendars can be integrated to both simple and variable products.
9. A reservation form appears automatically on desired WooCommerce product pages.
10. WooCommerce cart expiration system: when time is up, bookings are cancelled and cart emptied.
11. Manage your bookings: just click on the desired event and its bookings list appears. Then choose a booking action: change state (cancel, validate), reschedule, refund...
12. Customers also have their bookings list thanks to a shortcode. They can cancel, reschedule or ask a refund by their own (if you allow them).
13. Your customers can manage their bookings from their WooCommerce orders as well.
14. Orders status are bound to their bookings status. If bookings are cancelled / booked / refunded, so do the order (and vice-versa).



== Changelog ==

= 1.1.1 - 2017/08/08 =
* Fix - Fix AJAX error when trying to create / update an activity with WordPress < 4.6
* Fix - Fix error when cron try to expire an unexisting cart
* Fix - HTML code was displayed in refund emails
* Fix - Admin can turn inactive bookings state to 'cancelled' if they want
* Fix - Improved readme.txt to provide a better understanding and preview of the plugin

= 1.1.0 - 2017/07/16 =
* Optimization - Calendars are now loaded faster and on page load (possibility to load after page load in Booking Activities settings)
* Feature - Manage groups of events! You can group events and make your customer book a bundle of events instead of a single one.
* Feature - Bind multiple calendars and activities to one product in WooCommerce!
* Feature - Choose the default booking status after a customer complete the booking form or a WooCommerce order.
* Feature - Calendars events are now related to your business timezone, and no longer to users' timezone. Customers around the world cannot see / book a past event because of time offset.
* Tweak - You can change your calendars period regardless of the bookings already done
* Fix - Apostrophe characters in template / activity / events names are now correctly displayed
* Fix - Dates are now translated everywhere
* Fix - Copy a shortcode in calendar editor now copy only plain text, no more undesired html
* Fix - Cart expiration is now checked on each page load. This means that you cart counter will now always be up to date.
* Fix - Fixed booking method checks in JS files (misuse of inArray)
* Fix - Fixed permission error after closing a dialog in template editor
* Fix - All global JS variables are stored in bookacti object in order to avoid collisions
* Delete - Removed trashes from editor, to delete calendars, activities and events please use their respective settings dialogs
* Delete - Deleted events 'occurrence id' since it is not a relevant identifier. All events can be identified by id + start + end datetimes.
* Delete - Deleted unused bookings global actions
* Delete - bookacti_display_booking_system() function replaced by bookacti_get_booking_system() which MUST be used to display a booking system
* Dev - A lot of hooks has been changed, added or removed. Please go to the website for the [complete changelog](https://booking-activities.fr/en/documentation/changelog/?utm_source=wp-plugin-page&utm_medium=wordpress&utm_content=readme).
    
= 1.0.8 - 2017/05/31 =
* Fix - Fixed events not fetched if your database prefix was not exactly "wp_"
* Fix - "Create or import activity" dialog is closed before opening a new one. This prevent undesirable display and behavior.
* Fix - Flush rewrite rules on activate to avoid error 500
* Fix - Cron error in log/error.log appeared even if bookings were correctly deactivated hourly
* Fix - Check booking id before sync booking state in woocommerce meta to avoid errors

= 1.0.7 - 2017/05/27 =
* Fix - Fixed non-repeting events not fetched

= 1.0.6 - 2017/05/24 =
* Lib - Updated FullCalendar to 3.4 and Moment.js to 2.18.1
* Tweak - Calendars range is not restricted by booked events anymore
* Fix - Events out of their calendar range are not displayed and are impossible to book
* Fix - Fixed update booking list parameters always resulting in a permission error
* Fix - Added defined() check before constant definitions to avoid collisions
* Add - Added bookacti_updated action hook and stored plugin version in database
* Add - Added bookacti_validate_template_data action hook on template insert / update
* Tweak - Moved some functions from model-template.php to functions-template.php
* Delete - Deleted bookacti_validate_template function, replaced by bookacti_validate_template_data
* Delete - Deleted bookacti_deactivate_expired_bookings_hourly function, replaced by bookacti_controller_deactivate_expired_bookings

= 1.0.5 - 2017/05/11 =
* Fix - Fixed error messages not disappearing in event dialog on calendars editor
* Fix - Correct formating of booking id in WooCommerce emails

= 1.0.4 - 2017/04/20 =
* Fix - WooCommerce 3.0 supported and backward compatibility to WooCommerce 2.6
* Fix - Fixed issue causing separator between to dates or two hours not to show
* Fix - Fixed issue causing unique event in calendar or events closed to calendar limits not to show
* Fix - Fixed 'parent' booking method for variations
* Fix - Fixed refund via coupon AJAX call feedback
* Fix - Fixed dates not displayed when they had a special character such as "é"
* Fix - Fixed permission to create and read coupons when a user try to generate a refund coupon
* Fix - Fixed blank page when you 'Order Again' an order containing bookings. This fonctionnality is not supported yet, but now it leads to a proper error message.
* Fix - Hid reschedule timepicker when no date has been selected in datepicker (w/ Display Pack add-on)
* Fix - Replaced 'eventRender' JS action triggered on FullCalendar eventRender in calendar editor by 'bookacti_event_render'
* Fix - Fixed activity list not filtered by calendar on load in admin product page
* Tweak - Merged WC and BA confirmation notices when you add a product to cart to display only one
* Tweak - Hid in-cart, expired and removed bookings from users' bookings list (can be filtered with 'bookacti_bookings_list_hidden_states' filter)
* Add - Added 'bookacti_validate_selected_event' JS action
* Add - Added 'bookacti_temporary_book_message' filter to allow you to change the confirmation text when an activity has been added to cart through WooCommerce
* Add - Added 'bookacti_refund_coupon_code_template' filter to change the template of WC generated coupon code (with refund by coupon method)
* Add - Added 'bookacti_get_booking_product_id' function to retreive product id by booking id, if the reservation was made with WC

= 1.0.3 - 2017/03/29 =
* Feature - Added possibility to change calendar day start / end hours
* Fix - Corrected the [bookingactivities_calendar] shortcode name in calendar editor
* Fix - Fixed possible error while uninstalling plugin
* Localization - Updated fr_FR

= 1.0.2 - 2017/03/27 =
* Fix - Fixed error 500 on plugin activation (undefined function wp_get_current_user())

= 1.0.1 - 2017/03/25 =
* Fix - Updated shortcodes in readme.txt

= 1.0.0 - 2017/03/25 =
* Feature - Drag and drop planning editor
* Feature - Shortcodes to display reservation form, the calendar alone, or customers' list of reservations
* Feature - One-click reservation system
* Feature - Woocommerce support for reservation online payments
* Feature - Woocommerce cart expiration system
* Feature - Backend reservation manager and frontend user's bookings list so that both can manage reservation



== Upgrade Notice ==

= 1.1.0 =
Major update with breaking changes. To be safe, make a backup of your database. 
You need to update your Booking Activities add-ons in the same time (if you have any) as they will not be compatible anymore.

= 1.0.4 =
If you are using Booking Activities with WooCommerce, make sure you are using 2.6.0 or later, and try to update to WooCommerce 3.* as soon as possible since BW compatibility functions are now deprecated
